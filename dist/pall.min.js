!function(r,e){if("function"==typeof define&&define.amd)define("pall",["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var n={exports:{}};e(n.exports),r.pall=n.exports}}(this,function(r){!function(e,n){if("function"==typeof define&&define.amd)define("pall",["exports"],n);else if(void 0!==r)n(r);else{var t={exports:{}};n(t.exports),e.pall=t.exports}}(this,function(r){"use strict";function e(r){var e=r.length;return function n(){var t=Array.prototype.slice.call(arguments);return function(){var o=t.slice();return Array.prototype.push.apply(o,arguments),(o.length>=e?r:n).apply(null,o)}}()}function n(r){for(var e,n=[];!(e=r.next()).done;)n.push(e.value);return n}function t(r){var e=String(r).match(/^function (\w*)/);return null==e?"":e[1]}function o(r,e){return Object.prototype.hasOwnProperty.call(e,r)}function u(r,e){return r===e?0!==r||1/r==1/e:r!==r&&e!==e}function i(r,e,a,c){if(u(r,e))return!0;if(b(r)!==b(e))return!1;if(null==r||null==e)return!1;if("function"==typeof r.equals||"function"==typeof e.equals)return"function"==typeof r.equals&&r.equals(e)&&"function"==typeof e.equals&&e.equals(r);switch(b(r)){case"Arguments":case"Array":case"Object":if("function"==typeof r.constructor&&"Promise"===t(r.constructor))return r===e;break;case"Boolean":case"Number":case"String":if((void 0===r?"undefined":f(r))!==(void 0===e?"undefined":f(e))||!u(r.valueOf(),e.valueOf()))return!1;break;case"Date":if(!u(r.valueOf(),e.valueOf()))return!1;break;case"Error":return r.name===e.name&&r.message===e.message;case"RegExp":if(r.source!==e.source||r.global!==e.global||r.ignoreCase!==e.ignoreCase||r.multiline!==e.multiline||r.sticky!==e.sticky||r.unicode!==e.unicode)return!1;break;case"Map":case"Set":if(!i(n(r.entries()),n(e.entries()),a,c))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=m(r);if(l.length!==m(e).length)return!1;for(var s=a.length-1;s>=0;){if(a[s]===r)return c[s]===e;s-=1}for(a.push(r),c.push(e),s=l.length-1;s>=0;){var p=l[s];if(!o(p,e)||!i(e[p],r[p],a,c))return!1;s-=1}return a.pop(),c.pop(),!0}function a(r){return r.reduce(function(r,e){return r.concat(Array.isArray(e)?a(e):e)},[])}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function r(r,e){var n=[],t=!0,o=!1,u=void 0;try{for(var i,a=r[Symbol.iterator]();!(t=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);t=!0);}catch(r){o=!0,u=r}finally{try{!t&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l=e(function(r){return Promise.resolve(r)}),s=function(){for(var r=this,e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];n.reverse();var o=n[0],u=n.slice(1);return function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.reduce(function(e,n){return l(e).then(function(e){return n.call(r,e)})},o.apply(r,n))}},p=Promise.resolve(!1),y=function(r){return r===p},v=function(){var r=Object.prototype.toString;return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(r){return o("callee",r)}}(),m=function(){var r=!{toString:null}.propertyIsEnumerable("toString"),e=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){return arguments.propertyIsEnumerable("length")}(),t=function(r,e){for(var n=0;n<r.length;){if(r[n]===e)return!0;n+=1}return!1};return"function"!=typeof Object.keys||n?function(u){if(Object(u)!==u)return[];var i,a,c=[],f=n&&v(u);for(i in u)!o(i,u)||f&&"length"===i||(c[c.length]=i);if(r)for(a=e.length-1;a>=0;)o(i=e[a],u)&&!t(c,i)&&(c[c.length]=i),a-=1;return c}:function(r){return Object(r)!==r?[]:Object.keys(r)}}(),b=function(r){return null===r?"Null":void 0===r?"Undefined":Object.prototype.toString.call(r).slice(8,-1)},h=e(function(r,e){return r(e),e}),d=new Promise(function(r){return r}),g=function(){return d},A=e(function(r,e){return y(e)?r(e):l(e).then(r)}),O=A,S=A,x=A,P=e(function(r,e){return s(O(function(r){var e=c(r,2),n=e[0],t=e[1];return n?t:g()}),O(function(e){return[r(e),e]}))(e)}),j=e(function(r,e){return y(r)?e:y(e)?r:Promise.race([r,e])}),k=e(function(r,e){return Promise.all([r,e]).then(function(r){var e=c(r,2);return(0,e[0])(e[1])})}),w=e(function(r,e){return Promise.all([r,e]).then(function(r){return a(r).reduce(function(r,e){return r.concat(e)},[])})});r.compose=s,r.equals=function(r,e){return y(r)&&y(e)?l(!0):y(r)||y(e)?l(!1):Promise.all([r,e]).then(function(r){var e=c(r,2);return i(e[0],e[1],[],[])})},r.concat=w,r.of=l,r.ap=k,r.fromCallback=function(r){return new Promise(r)},r.then=S,r.bind=x,r.map=O,r.filter=P,r.alt=j,r.isZero=y,r.tap=h,r.zero=function(){return p}})});