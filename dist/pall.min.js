!function(r,e){if("function"==typeof define&&define.amd)define("pall",["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var n={};e(n),r.pall=n}}(this,function(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var n=[],t=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(t=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);t=!0);}catch(r){o=!0,u=r}finally{try{!t&&i.return&&i.return()}finally{if(o)throw u}}return n}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function e(t){var o=t.length;return function e(){var n=Array.prototype.slice.call(arguments);return function(){var r=n.slice();return Array.prototype.push.apply(r,arguments),(r.length>=o?t:e).apply(null,r)}}()}var a=e(function(r){return Promise.resolve(r)});function n(){for(var t=this,r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];e.reverse();var o=e[0],u=e.slice(1);return function(){for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return u.reduce(function(r,e){return a(r).then(function(r){return e.call(t,r)})},o.apply(t,e))}}var t=Promise.resolve(Symbol("zeroPromise")),u=function(r){return r===t};function s(r){for(var e,n=[];!(e=r.next()).done;)n.push(e.value);return n}function y(r,e){return Object.prototype.hasOwnProperty.call(e,r)}function p(r,e){return r===e?0!==r||1/r==1/e:r!=r&&e!=e}var i,c,f,v,m=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(r){return"[object Arguments]"===e.call(r)}:function(r){return y("callee",r)}}(),b=(i=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],f=function(){return arguments.propertyIsEnumerable("length")}(),v=function(r,e){for(var n=0;n<r.length;){if(r[n]===e)return!0;n+=1}return!1},"function"!=typeof Object.keys||f?function(r){if(Object(r)!==r)return[];var e,n,t=[],o=f&&m(r);for(e in r)!y(e,r)||o&&"length"===e||(t[t.length]=e);if(i)for(n=c.length-1;0<=n;)y(e=c[n],r)&&!v(t,e)&&(t[t.length]=e),n-=1;return t}:function(r){return Object(r)!==r?[]:Object.keys(r)}),h=function(r){return null===r?"Null":void 0===r?"Undefined":Object.prototype.toString.call(r).slice(8,-1)};var g=e(function(r,e){return r(e),e}),d=new Promise(function(r){return r}),A=e(function(r,e){return u(e)?r(e):a(e).then(r)}),O=A,S=A,P=A,j=e(function(e,r){return n(O(function(r){var e=o(r,2),n=e[0],t=e[1];return n?t:d}),O(function(r){return[e(r),r]}))(r)}),k=e(function(r,e){return u(r)?e:u(e)?r:Promise.race([r,e])}),w=e(function(r,e){return Promise.all([r,e]).then(function(r){var e=o(r,2);return(0,e[0])(e[1])})});var q=e(function(r,e){return Promise.all([r,e]).then(function(r){return function n(r){return r.reduce(function(r,e){return r.concat(Array.isArray(e)?n(e):e)},[])}(r).reduce(function(r,e){return r.concat(e)},[])})});r.compose=n,r.equals=function(r,e){return u(r)&&u(e)?a(!0):u(r)||u(e)?a(!1):Promise.all([r,e]).then(function(r){var e=o(r,2);return function r(e,n,t,o){if(p(e,n))return!0;if(h(e)!==h(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(h(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(u=e.constructor,null==(a=(u+"").match(/^function (\w*)/))?"":a[1]))return e===n;break;case"Boolean":case"Number":case"String":if((void 0===e?"undefined":l(e))!==(void 0===n?"undefined":l(n))||!p(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!p(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!r(s(e.entries()),s(n.entries()),t,o))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u,a,i=b(e);if(i.length!==b(n).length)return!1;for(var c=t.length-1;0<=c;){if(t[c]===e)return o[c]===n;c-=1}for(t.push(e),o.push(n),c=i.length-1;0<=c;){var f=i[c];if(!y(f,n)||!r(n[f],e[f],t,o))return!1;c-=1}return t.pop(),o.pop(),!0}(e[0],e[1],[],[])})},r.concat=q,r.of=a,r.ap=w,r.fromCallback=function(r){return new Promise(r)},r.then=S,r.bind=P,r.map=O,r.filter=j,r.alt=k,r.isZero=u,r.tap=g,r.zero=function(){return t}});